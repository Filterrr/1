mixed-port: 7890
allow-lan: true
bind-address: "*"
mode: rule
log-level: debug
ipv6: false
geodata-loader: memconservative
keep-alive-interval: 30
global-client-fingerprint: firefox
global-ua: clash.meta

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  default-nameserver:
    - https://223.5.5.5/dns-query
  nameserver:
    - https://223.5.5.5/dns-query
    - https://1.0.0.1/dns-query

geodata-mode: true
geo-auto-update: true
geo-update-interval: 8
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
  asn: "https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

proxy-providers:
  bili:
    type: http
    url: https://worldcf.kh11a.link/Filterrr/1/main/modes/bili
    interval: 6048000
    path: ./providerbili.yaml
    health-check:
      enable: true
      interval: 720
      url: https://www.gstatic.com/generate_204

  xiaopro0:
    type: http
    url: https://cfno1.pages.dev/clash?host=csafevm.212124.xyz&uuid=c602dce2-d03d-459e-97b8-02fb314cf8a8&path=/c602dce2&format=base64&type=vless
    path: ./du/provider200.yaml
    interval: 6048000
    header:
      User-Agent:
      - "Clash/v1.18.0"
      - "mihomo/1.18.3"
      Authorization:
      - 'token 1231231'
    health-check:
      enable: true
      interval: 720
      url: https://www.gstatic.com/generate_204

  xiaopro1:
    type: http
    url: https://url.v1.mk/sub?target=clash&url=https%3A%2F%2Fsub.xf.free.hr%2Fapi%2Fsub%3Fhost%3Dcsafevm.212124.xyz%26uuid%3Dc602dce2-d03d-459e-97b8-02fb314cf8a8%26path%3D%2Fc602dce2%26format%3Dbase64%26type%3Dvless&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_NoAuto.ini&emoji=true&list=true&xudp=false&udp=false&tfo=false&expand=true&scv=false&fdn=false&new_name=true
    path: ./du/provider201.yaml
    interval: 6048000
    header:
      User-Agent:
      - "Clash/v1.18.0"
      - "mihomo/1.18.3"
      Authorization:
      - 'token 1231231'
    health-check:
      enable: true
      interval: 720
      url: https://www.gstatic.com/generate_204

CF: &CF
    type: vless
    uuid: 1ff64191-83b3-410a-86e3-74f721681a80
    tls: true
    servername: world.kh11a.link
    skip-cert-verify: false
    network: ws
    ws-opts: 
      path: /xkaopf15da
      headers: 
        Host: world.kh11a.link
        
proxies:
  - name: Â§áÁî®ËäÇÁÇπ1
    server: ip.sb
    port: 8443
    <<: *CF

  - name: Â§áÁî®ËäÇÁÇπ2
    server: www.visa.com.hk
    port: 2096
    <<: *CF

proxy-groups:
  - name: üåé ÂÖ®ÁêÉËäÇÁÇπ
    type: select
    proxies:
      - üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
      - ‚ö†Ô∏è UDPËßÑÂàô
      - üå•Ô∏è Â§áÁî®ËäÇÁÇπ
    use:
      - xiaopro0
      - xiaopro1

  - name: üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
    type: select
    proxies:
      - üéØ ÂÖ®ÁêÉÁõ¥Ëøû
    use:
      - bili

  - name: üå•Ô∏è Â§áÁî®ËäÇÁÇπ
    type: url-test
    proxies:
      - Â§áÁî®ËäÇÁÇπ1
      - Â§áÁî®ËäÇÁÇπ2
    url: https://www.gstatic.com/generate_204
    interval: 720

  - name: ‚ö†Ô∏è UDPËßÑÂàô
    type: select
    proxies:
      - üõë ÂÖ®ÁêÉÊã¶Êà™
      - üéØ ÂÖ®ÁêÉÁõ¥Ëøû

  - name: üéØ ÂÖ®ÁêÉÁõ¥Ëøû
    type: select
    proxies:
      - DIRECT

  - name: üõë ÂÖ®ÁêÉÊã¶Êà™
    type: select
    proxies:
      - REJECT

  - name: üêü ÊºèÁΩë‰πãÈ±º
    type: relay
    proxies:
      - üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
      - üåé ÂÖ®ÁêÉËäÇÁÇπ

  - name: üîò
    type: relay
    proxies:
      - üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
      - üå•Ô∏è Â§áÁî®ËäÇÁÇπ

rules:
# UDP ËßÑÂàô 
  - NETWORK,UDP,‚ö†Ô∏è UDPËßÑÂàô
# ÂπøÂëäËøáÊª§
  - geosite,category-ads-all,üõë ÂÖ®ÁêÉÊã¶Êà™
# ËìùÂ•è‰∫ëËßÑÂàô
  - DST-PORT,446,üêü ÊºèÁΩë‰πãÈ±º
# ÂàÜÊµÅËßÑÂàô
  - DOMAIN-KEYWORD,google,üêü ÊºèÁΩë‰πãÈ±º
  - DOMAIN-KEYWORD,chat,üîò
  - IN-TYPE,INNER,üîò
# ÂõΩÂÜÖÂ§ñÂàÜÊµÅËßÑÂàô
  - GEOSITE,CN,üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
  - GEOIP,CN,üöÄ ÂõΩÂÜÖ->ÁôæÂ∫¶ËäÇÁÇπ
# ÂÖúÂ∫ïËßÑÂàô
  - MATCH,üêü ÊºèÁΩë‰πãÈ±º
